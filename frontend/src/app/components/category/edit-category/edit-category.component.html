<ng-container *transloco="let t">
  <div class="content edit-category-page">
    <ng-container *ngIf="category; else loading">
      <app-title-bar>
        <div custom-title>
          <td-breadcrumbs *ngIf="category.group == null">
            <a td-breadcrumb routerLink="/finances">{{ t('finances') }}</a>
            <a td-breadcrumb [routerLink]="individualSharedBreadcrumbUrl">{{ t('individual') }}</a>
            <a td-breadcrumb [routerLink]="categoriesBreadcrumbUrl">{{ t('categories') }}</a>
            <td-breadcrumb>{{ t('edit') }}</td-breadcrumb>
          </td-breadcrumbs>

          <td-breadcrumbs *ngIf="category.group">
            <a td-breadcrumb routerLink="/finances">{{ t('finances') }}</a>
            <a td-breadcrumb routerLink="/finances/shared">{{ t('shared') }}</a>
            <a td-breadcrumb routerLink="/finances/shared/groups">{{ t('groups') }}</a>
            <a td-breadcrumb routerLink="/finances/shared/{{ category.group.id }}">{{
              t('group-name', { 'name': category.group.name })
            }}</a>
            <a td-breadcrumb routerLink="/finances/shared/{{ category.group.id }}/category">{{ t('categories') }}</a>
            <td-breadcrumb>{{ t('edit') }}</td-breadcrumb>
          </td-breadcrumbs>
        </div>
      </app-title-bar>

      <app-form-category [category]="category" (categorySaved)="edit($event)"> </app-form-category>
    </ng-container>
  </div>
</ng-container>

<ng-template #loading>
  <mat-progress-spinner mode="indeterminate" diameter="40"> </mat-progress-spinner>
</ng-template>
